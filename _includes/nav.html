{% assign default_paths = site.pages | map: "path" %}
{% assign page_paths = site.header_pages | default: default_paths %}

<nav id="topbar">
  <input type="checkbox" id="menu-visible" name="menu-visible" value="">
  <a href="#header" class="logo">
    <img src={{ "assets/img/logo.svg" | relative_url}} alt="PiGames logo" class="logo-img">
    <span class="logo-text">PiGames</span>
  </a>
  <label for="menu-visible" class="hamburger">
    <div class="hamburger-part"></div>
    <div class="hamburger-part"></div>
    <div class="hamburger-part"></div>
  </label>

  {% if page_paths %}
    <ul class="mobile-menu">
      <li class="header">PiGames</li>
      {% for path in page_paths %}
        {% assign my_page = site.pages | where: "path", path | first %}
        {% if my_page.title %}
        <li>
          <a href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a>
        </li>
        {% endif %}
      {% endfor %}
    </ul>

    <ul class="desktop-menu">
      <li class="header">PiGames</li>
      {% for path in page_paths %}
        {% assign my_page = site.pages | where: "path", path | first %}
        {% if my_page.title %}
        <li>
          <a href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a>
        </li>
        {% endif %}
      {% endfor %}
    </ul>
  {% endif %}

  <label for="menu-visible" class="mobile-background"></label>
</nav>
